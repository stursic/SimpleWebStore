@model SimpleWebStore.Models.BrowseProductsViewModel
@using PagedList.Mvc;
@using PagedList;
<link href="~/Content/PagedList.css" rel="stylesheet" type="text/css" />

@{
    ViewBag.Title = "Browse products";
}

<h2>@ViewBag.Title</h2>




<div class="col-sm-3 col-md-3 pull-right" >
    <form class="navbar-form" role="search">
        <div class="input-group">
            @Html.TextBox("search", "",new { @class = "form-control", placeholder = "Search" })
            <div class="input-group-btn">
                <button onclick="location.href='@Url.Action("Index")'" class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
            </div>
        </div>
    </form>
</div>



<p style="padding-top:10px;">
    @Html.ActionLink("+ Add product", "Create",null, new { @class = "btn btn-primary" })
</p>



<div class="panel panel-default">

    <div id="tabs">

        <ul class="nav nav-pills">
            <li class="@(ViewBag.Active.Equals("all") ? "active" : "")"><a onclick="location.href='@Url.Action("Index", new {tab ="all", page = 1})'" data-toggle="pill" href="#all">All</a></li>

            @foreach (var c in Model.Categories)
            {    
               <li class="@(ViewBag.Active.Equals(c.CategoryName) ? "active" : "")"><a onclick="location.href='@Url.Action("Index", new {tab =c.CategoryName, page = 1 })'" data-toggle="pill" href="#@Html.DisplayFor(model => c.CategoryName)">@Html.DisplayFor(model => c.CategoryName)</a></li>
            }
        </ul>

        <div class="tab-content">

                <div id="all" class="@(ViewBag.Active.Equals("all") ? "tab-pane active" : "tab-pane")">

                    @Html.Action("_productsPartialView", new { tab = "all", search = ViewBag.Search })

                </div>
            

           

            @foreach (var c in Model.Categories)
            {
               
                <div id="@Html.DisplayFor(model => c.CategoryName)" class="@(ViewBag.Active.Equals(c.CategoryName) ? "tab-pane active" : "tab-pane")">

                    @Html.Action("_productsPartialView", new { tab = c.CategoryName, search = ViewBag.Search})
                 
                </div>

                }

            


        </div>
    </div>

   

</div>


